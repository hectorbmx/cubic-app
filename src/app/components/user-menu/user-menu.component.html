<!-- Botón que abre el popover -->
<ion-button fill="clear" (click)="isOpen = true">
  <ion-avatar slot="icon-only">
    <img [src]="user()?.photoURL || 'https://ionicframework.com/docs/img/demos/avatar.svg'" 
         alt="Usuario">
  </ion-avatar>
</ion-button>

<!-- Popover -->
<ion-popover
  [isOpen]="isOpen"
  (didDismiss)="isOpen = false"
  dismissOnSelect="true"   
>
  <ng-template>
    <ion-list>
      <ion-item button (click)="goPerfil()">
        <ion-icon slot="start" name="person-outline"></ion-icon>
        <ion-label>Perfil</ion-label>
      </ion-item>
      <ion-item button (click)="cambiarFoto()">
        <ion-icon slot="start" name="image-outline"></ion-icon>
        <ion-label>Cambiar foto</ion-label>
      </ion-item>
      <ion-item button (click)="logout()">
        <ion-icon slot="start" name="log-out-outline"></ion-icon>
        <ion-label>Cerrar sesión</ion-label>
      </ion-item>
    </ion-list>
  </ng-template>
</ion-popover>